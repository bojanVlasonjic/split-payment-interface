<form class="new-account-form" #accountForm="ngForm" (ngSubmit)="createAccount()">
    <div class="form-group">
        <label>Account number (3 digits-multiple digits-2 digits): </label>
        <input type="text" class="form-control" name="accNum" id="accNum" placeholder="000-00000000-00"
            [(ngModel)]="account.number" required #accNum="ngModel" pattern="[0-9]{3}\-[0-9]+\-[0-9]{2}">
            <small [hidden]="(!accNum.errors?.required) || accNum.pristine" class="error-message">
                Account number is required
            </small>
            <small [hidden]="(!accNum.errors?.pattern)" class="error-message">
                Invalid pattern, example pattern: 123-12345-12
            </small>
    </div>
    <div class="form-group">
        <label>Account name: </label>
        <input type="text" class="form-control" name="accName" id="accName" placeholder="Enter account name..."
            [(ngModel)]="account.name" required #accName="ngModel">
            <small [hidden]="accName.valid || accName.pristine" class="error-message">
                Account name is required
            </small>
    </div>
    <div class="form-group">
        <label>Account owner: </label>
        <input type="text" class="form-control" name="accOwner" id="accOwner" placeholder="Enter owner's name..."
            required>
        <!-- 
        <small [hidden]="accOwner.valid || accOwner.pristine" class="error-message">
            Account owner's name is required
        </small> -->
    </div>

    <div class="form-group">
        <label>Owner's address: </label>
        <input type="text" class="form-control" name="ownerAddress" id="ownerAddress" placeholder="Enter owner's name..."
            required>
        <!-- 
        <small [hidden]="ownerAddress.valid || ownerAddress.pristine" class="error-message">
            Account owner's address is required
        </small> -->
    </div>

    <label>How would you like to specify the amount of funds to transfer?</label>
    <br/>

    <div class="custom-control custom-radio custom-control-inline radio-holder">
        <input type="radio" id="fixedSplit" name="splitType" class="custom-control-input" (change)="fixedSplitChange($event)">
        <label class="custom-control-label" for="fixedSplit">Fixed amount (rsd)</label>
      </div>
      <div class="custom-control custom-radio custom-control-inline">
        <input type="radio" id="percentageSplit" name="splitType" class="custom-control-input" (change)="percentualSplitChange($event)">
        <label class="custom-control-label" for="percentageSplit">Percentual amount (%)</label>
    </div>

    <div class="form-row" [ngClass]="{'disabled-slider': splitType != 'fixed'}">
        <div class="form-group col-9">
            <mat-slider min="1" [max]="articlePrice" step="1" value="1"
                thumbLabel (input)="onFixedValueChange($event)" name="fixedInvestmentSlider"
                [(ngModel)]="account.investment">
            </mat-slider>
        </div>
        <div class=" form-group col-3">
            <input type="number" class="form-control" name="accInvestmentInput" 
                [(ngModel)]="account.investment">
        </div>
    </div>
    
    <div class="form-row" [ngClass]="{'disabled-slider': splitType != 'percentual'}">
        <div class="form-group col-9">
            <mat-slider min="1" max="100" step="1" value="1" thumbLabel 
                (input)="onPercentualValueChange($event)" name="percentualInvestmentSlider"
                [(ngModel)]="investmentPercentage">
            </mat-slider>
        </div>
        <div class="form-group col-3">
            <input type="number" class="form-control" name="investPercentageInput"
                [(ngModel)]="investmentPercentage" (input)="onPercentualInputChange($event)">
        </div>
    </div>

    <label class="highlighted-text">Amount to transfer: &nbsp; {{ account.investment }} rsd </label>

    <br/>
    <button type="submit" class="btn btn-dark" [disabled]="!accountForm.form.valid">
        Add account
    </button>
</form>


